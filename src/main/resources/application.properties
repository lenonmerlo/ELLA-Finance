spring.application.name=backend

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:900000}
jwt.refreshExpiration=604800000

cors.allowedOrigins=${CORS_ALLOWED_ORIGINS}

app.frontend.base-url=${APP_FRONTEND_BASE_URL:http://localhost:5173}
app.frontend.reset-password-path=${APP_FRONTEND_RESET_PASSWORD_PATH:/reset-password}

ella.score.diversity.total-categories=${ELLA_SCORE_DIVERSITY_TOTAL_CATEGORIES:10}
ella.score.diversity.lookback-days=${ELLA_SCORE_DIVERSITY_LOOKBACK_DAYS:90}
ella.score.consistency.months=${ELLA_SCORE_CONSISTENCY_MONTHS:3}

ella.ocr.enabled=${ELLA_OCR_ENABLED:true}
ella.ocr.language=${ELLA_OCR_LANGUAGE:por}
ella.ocr.tessdata-path=${ELLA_OCR_TESSDATA_PATH}

ella.ocr.pdf.min-text-length=${ELLA_OCR_PDF_MIN_TEXT_LENGTH:200}
ella.ocr.pdf.render-dpi=${ELLA_OCR_PDF_RENDER_DPI:220}
ella.ocr.pdf.max-pages=${ELLA_OCR_PDF_MAX_PAGES:6}

ella.invoice.debug.log-extracted-text=${ELLA_INVOICE_DEBUG_LOG_EXTRACTED_TEXT:false}
ella.invoice.debug.extracted-text-max-chars=${ELLA_INVOICE_DEBUG_EXTRACTED_TEXT_MAX_CHARS:2000}
ella.invoice.debug.due-date-snippets=${ELLA_INVOICE_DEBUG_DUE_DATE_SNIPPETS:false}
ella.invoice.debug.due-date-context-chars=${ELLA_INVOICE_DEBUG_DUE_DATE_CONTEXT_CHARS:140}

ella.dashboard.debug.summary-expenses=${ELLA_DASHBOARD_DEBUG_SUMMARY_EXPENSES:false}
ella.dashboard.debug.summary-expenses-max-items=${ELLA_DASHBOARD_DEBUG_SUMMARY_EXPENSES_MAX_ITEMS:60}

ella.critical.enabled=true
ella.critical.amount-threshold=5000

app.dev.reset-password-token=${APP_DEV_RESET_PASSWORD_TOKEN:}

extraction.quality.min-score-for-acceptance=90
extraction.quality.min-score-for-high-quality=75
extraction.quality.min-transactions=3
extraction.quality.min-text-length=800
extraction.quality.max-garbled-percent=5

adobe.oauth.client-id=${ADOBE_CLIENT_ID}
adobe.oauth.access-token=${ADOBE_ACCESS_TOKEN}
adobe.oauth.api-endpoint=https://pdf-services.adobe.io
adobe.oauth.timeout=60
adobe.oauth.enabled=true

email.enabled=${EMAIL_ENABLED:true}
email.from=${EMAIL_FROM}
email.resend.api-key=${RESEND_API_KEY}
email.require-config-on-startup=${EMAIL_REQUIRE_CONFIG_ON_STARTUP:false}
